<nav class="bg-grey-1">
    <div class="container d-flex align-items-center justify-content-between py-2">
        <img 
            class="" 
            style="cursor: pointer;" 
            src="../../../assets/logo-blue.svg" 
            alt="after meow logo" 
            width="150"
            height="50" 
        />

        <!-- SKELETON LOADING -->
        <div class="" *ngIf="!showContent">
            <ul class="d-flex align-items-center m-0 gap-5">
                <li class="list-unstyled">
                    <p-skeleton width="5rem" height="1rem"></p-skeleton>
                </li>
                <li class="list-unstyled">
                    <p-skeleton width="5rem" height="1rem"></p-skeleton>
                </li>
                <li class="list-unstyled">
                    <p-skeleton width="5rem" height="1rem"></p-skeleton>
                </li>
            </ul>
        </div>
        <div class="d-flex align-items-center m-0 gap-2" *ngIf="!userLogin && !showContent">
            <p-skeleton width="5rem" height="2.5rem" styleClass="rounded-pill"></p-skeleton>
            <p-skeleton width="6rem" height="2.5rem" styleClass="rounded-pill"></p-skeleton>
        </div>

        <div class="" *ngIf="showContent">
            <ul class="d-flex align-items-center m-0 gap-5">
                <li class="list-unstyled" style="cursor: pointer;" routerLink="/home">
                    <h5 class="m-0 text-blue-2">Home</h5>
                </li>

                <li class="list-unstyled" style="cursor: pointer;">
                    <h5 class="m-0 text-blue-2 underline-blue">Products</h5>
                </li>

                <li class="list-unstyled" style="cursor: pointer;" routerLink="/about-us">
                    <h5 class="m-0 text-blue-2">About us</h5>
                </li>
            </ul>
        </div>

        <div class="d-flex align-items-center m-0 gap-2" *ngIf="!userLogin && showContent">
            <button 
                class="button-outline-blue px-4 py-2 rounded-pill"
                routerLink="/login"
            >
                login
            </button>

            <button 
                class="button-3 text-white px-4 py-2 rounded-pill bg-blue-1"
                routerLink="/signup"
            >
                signup
            </button>
        </div>


        <!-- SKELETION LOADING -->
        <div 
            *ngIf="userLogin && !showContent"
            class="d-flex gap-3 align-items-center" 
        >
            <div class="d-flex flex-column gap-2" *ngFor="let c of customer">
                <div class="d-flex justify-content-end">
                    <p-skeleton width="5rem" height="1rem" styleClass="rounded-pill"></p-skeleton>
                </div>
                
                <div class="d-flex justify-content-end">
                    <p-skeleton width="10rem" height="1rem" styleClass="rounded-pill"></p-skeleton>
                </div>
            </div>

            <p-skeleton width="3rem" height="3rem" styleClass="rounded-circle"></p-skeleton>
        </div>

        <div 
            *ngIf="userLogin && showContent"
            class="d-flex gap-3 align-items-center" 
        >
            <div class="d-flex flex-column" *ngFor="let c of customer">
                <h5 class="text-end text-blue-2 mb-1">{{c.firstname}}</h5>
                <h6 class="text-end text-brown-1">{{c.email}}</h6>
            </div>

            <img
                *ngFor="let c of customer"
                [src]="c.image" 
                alt="customer profile" 
                class="rounded-circle"
                width="50"
                height="50"
                style="cursor: pointer;"
                routerLink="/customer-profile"
            />
        </div>
    </div>
</nav>

<!-- SKELETON LOADING -->
<div class="container mx-auto mt-5" *ngIf="!showContent">
    <p-skeleton width="6rem" height="2.5rem" styleClass="rounded-pill mb-5"></p-skeleton>

    <div class="d-flex justify-content-between align-items-center">
        <p-skeleton width="15rem" height="3rem" styleClass="rounded-pill"></p-skeleton>

        <div class="d-flex gap-3">
            <p-skeleton width="8rem" height="2.5rem" styleClass="rounded-pill"></p-skeleton>
            <p-skeleton width="8rem" height="2.5rem" styleClass="rounded-pill"></p-skeleton>
            <p-skeleton width="8rem" height="2.5rem" styleClass="rounded-pill"></p-skeleton>
            <p-skeleton width="8rem" height="2.5rem" styleClass="rounded-pill"></p-skeleton>
            <p-skeleton width="8rem" height="2.5rem" styleClass="rounded-pill"></p-skeleton>
        </div>
    </div>
</div>
<div class="container mx-auto mt-5 mb-3" *ngIf="!showContent">
    <div class="row">
        <div class="col-2 p-2">
            <div class="card shadow" style="height: 350px; border: none;">
                <p-skeleton  height="12rem" styleClass="card-img-top w-100"></p-skeleton>

                <div class="card-body d-flex flex-column justify-content-between">
                    <p-skeleton width="8rem" height="1.5rem" styleClass="rounded-pill"></p-skeleton>
                    <div class="d-flex justify-content-end">
                        <p-skeleton width="5rem" height="1.2rem" styleClass="rounded-pill align-self-end"></p-skeleton>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-2 p-2">
            <div class="card shadow" style="height: 350px; border: none;">
                <p-skeleton  height="12rem" styleClass="card-img-top w-100"></p-skeleton>

                <div class="card-body d-flex flex-column justify-content-between">
                    <p-skeleton width="8rem" height="1.5rem" styleClass="rounded-pill"></p-skeleton>
                    <div class="d-flex justify-content-end">
                        <p-skeleton width="5rem" height="1.2rem" styleClass="rounded-pill align-self-end"></p-skeleton>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-2 p-2">
            <div class="card shadow" style="height: 350px; border: none;">
                <p-skeleton  height="12rem" styleClass="card-img-top w-100"></p-skeleton>

                <div class="card-body d-flex flex-column justify-content-between">
                    <p-skeleton width="8rem" height="1.5rem" styleClass="rounded-pill"></p-skeleton>
                    <div class="d-flex justify-content-end">
                        <p-skeleton width="5rem" height="1.2rem" styleClass="rounded-pill align-self-end"></p-skeleton>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-2 p-2">
            <div class="card shadow" style="height: 350px; border: none;">
                <p-skeleton  height="12rem" styleClass="card-img-top w-100"></p-skeleton>

                <div class="card-body d-flex flex-column justify-content-between">
                    <p-skeleton width="8rem" height="1.5rem" styleClass="rounded-pill"></p-skeleton>
                    <div class="d-flex justify-content-end">
                        <p-skeleton width="5rem" height="1.2rem" styleClass="rounded-pill align-self-end"></p-skeleton>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-2 p-2">
            <div class="card shadow" style="height: 350px; border: none;">
                <p-skeleton  height="12rem" styleClass="card-img-top w-100"></p-skeleton>

                <div class="card-body d-flex flex-column justify-content-between">
                    <p-skeleton width="8rem" height="1.5rem" styleClass="rounded-pill"></p-skeleton>
                    <div class="d-flex justify-content-end">
                        <p-skeleton width="5rem" height="1.2rem" styleClass="rounded-pill align-self-end"></p-skeleton>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-2 p-2">
            <div class="card shadow" style="height: 350px; border: none;">
                <p-skeleton  height="12rem" styleClass="card-img-top w-100"></p-skeleton>

                <div class="card-body d-flex flex-column justify-content-between">
                    <p-skeleton width="8rem" height="1.5rem" styleClass="rounded-pill"></p-skeleton>
                    <div class="d-flex justify-content-end">
                        <p-skeleton width="5rem" height="1.2rem" styleClass="rounded-pill align-self-end"></p-skeleton>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-2 p-2">
            <div class="card shadow" style="height: 350px; border: none;">
                <p-skeleton  height="12rem" styleClass="card-img-top w-100"></p-skeleton>

                <div class="card-body d-flex flex-column justify-content-between">
                    <p-skeleton width="8rem" height="1.5rem" styleClass="rounded-pill"></p-skeleton>
                    <div class="d-flex justify-content-end">
                        <p-skeleton width="5rem" height="1.2rem" styleClass="rounded-pill align-self-end"></p-skeleton>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-2 p-2">
            <div class="card shadow" style="height: 350px; border: none;">
                <p-skeleton  height="12rem" styleClass="card-img-top w-100"></p-skeleton>

                <div class="card-body d-flex flex-column justify-content-between">
                    <p-skeleton width="8rem" height="1.5rem" styleClass="rounded-pill"></p-skeleton>
                    <div class="d-flex justify-content-end">
                        <p-skeleton width="5rem" height="1.2rem" styleClass="rounded-pill align-self-end"></p-skeleton>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-2 p-2">
            <div class="card shadow" style="height: 350px; border: none;">
                <p-skeleton  height="12rem" styleClass="card-img-top w-100"></p-skeleton>

                <div class="card-body d-flex flex-column justify-content-between">
                    <p-skeleton width="8rem" height="1.5rem" styleClass="rounded-pill"></p-skeleton>
                    <div class="d-flex justify-content-end">
                        <p-skeleton width="5rem" height="1.2rem" styleClass="rounded-pill align-self-end"></p-skeleton>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-2 p-2">
            <div class="card shadow" style="height: 350px; border: none;">
                <p-skeleton  height="12rem" styleClass="card-img-top w-100"></p-skeleton>

                <div class="card-body d-flex flex-column justify-content-between">
                    <p-skeleton width="8rem" height="1.5rem" styleClass="rounded-pill"></p-skeleton>
                    <div class="d-flex justify-content-end">
                        <p-skeleton width="5rem" height="1.2rem" styleClass="rounded-pill align-self-end"></p-skeleton>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-2 p-2">
            <div class="card shadow" style="height: 350px; border: none;">
                <p-skeleton  height="12rem" styleClass="card-img-top w-100"></p-skeleton>

                <div class="card-body d-flex flex-column justify-content-between">
                    <p-skeleton width="8rem" height="1.5rem" styleClass="rounded-pill"></p-skeleton>
                    <div class="d-flex justify-content-end">
                        <p-skeleton width="5rem" height="1.2rem" styleClass="rounded-pill align-self-end"></p-skeleton>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-2 p-2">
            <div class="card shadow" style="height: 350px; border: none;">
                <p-skeleton  height="12rem" styleClass="card-img-top w-100"></p-skeleton>

                <div class="card-body d-flex flex-column justify-content-between">
                    <p-skeleton width="8rem" height="1.5rem" styleClass="rounded-pill"></p-skeleton>
                    <div class="d-flex justify-content-end">
                        <p-skeleton width="5rem" height="1.2rem" styleClass="rounded-pill align-self-end"></p-skeleton>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="container mx-auto mt-5" *ngIf="showContent">
    <button class="btn d-flex gap-2 align-items-center mb-5 rounded-pill slide-bottom-1" routerLink="/home">
        <i class="pi pi-arrow-left"></i>
        <h6 class="m-0">Back</h6>
    </button>

    <div class="d-flex justify-content-between align-items-center">
        <form class="slide-bottom-1" [formGroup]="searchForm" (ngSubmit)="onSubmitSearch()">
            <input 
                type="text"
                class="input-signup rounded-pill px-3 py-2"
                style="border: none; background-color: #C2EBF4;"
                formControlName="search"
                placeholder="Search"
                maxlength="10"
            />
        </form>

        <div class="d-flex gap-3">
            <div 
                class="rounded-pill d-flex gap-2 align-items-center px-3 py-2 slide-bottom-1 {{cateSelect === 'alls' ? 'bg-warning shadow' : 'bg-light'}}"
                style="cursor: pointer;"
                (click)="onClickCategory('alls')"
            >
                <i class="pi pi-th-large" style="font-size: 1.2rem"></i>
                <h6 class="m-0 fw-semibold">ทั้งหมด</h6>
            </div>

            <div 
                class="rounded-pill d-flex gap-2 align-items-center px-3 py-2 slide-bottom-1 {{cateSelect === 'foods' ? 'bg-warning shadow' : 'bg-light'}}"
                style="cursor: pointer;"
                (click)="onClickCategory('foods')"
            >
                <i class="pi pi-th-large" style="font-size: 1.2rem"></i>
                <h6 class="m-0 fw-semibold">อาหาร และขนม</h6>
            </div>

            <div 
                class="rounded-pill d-flex gap-2 align-items-center px-3 py-2 slide-bottom-1 {{cateSelect === 'cats' ? 'bg-warning shadow' : 'bg-light'}}"
                style="cursor: pointer;"
                (click)="onClickCategory('cats')"
            >
                <i class="pi pi-th-large" style="font-size: 1.2rem"></i>
                <h6 class="m-0 fw-semibold">น้องแมว</h6>
            </div>

            <div 
                class="rounded-pill d-flex gap-2 align-items-center px-3 py-2 slide-bottom-1 {{cateSelect === 'tools' ? 'bg-warning shadow' : 'bg-light'}}"
                style="cursor: pointer;"
                (click)="onClickCategory('tools')"
            >
                <i class="pi pi-th-large" style="font-size: 1.2rem"></i>
                <h6 class="m-0 fw-semibold">อุปกรณ์เสริม</h6>
            </div>

            <div 
                class="rounded-pill d-flex gap-2 align-items-center px-3 py-2 slide-bottom-1 {{cateSelect === 'toys' ? 'bg-warning shadow' : 'bg-light'}}"
                style="cursor: pointer;"
                (click)="onClickCategory('toys')"
            >
                <i class="pi pi-th-large" style="font-size: 1.2rem"></i>
                <h6 class="m-0 fw-semibold">ของเล่น</h6>
            </div>
        </div>
    </div>
</div>

<div class="container mx-auto mt-5 mb-3 slide-bottom-1" *ngIf="showContent">
    <div class="row">
        <div class="col-2 p-2" *ngFor="let p of products">
            <div class="card shadow" style="height: 350px; border: none;">
                <img 
                    [src]="p.image"
                    class="card-img-top w-100"
                    style="object-fit: cover; cursor: pointer;"
                    height="200"
                    (click)="onClickProduct(p._id)"
                />

                <div class="card-body d-flex flex-column justify-content-between">
                    <h6 class="">{{p.name}}</h6>
                    <h6 class="m-0 align-self-end" style="color: var(--color-grey-1)">
                        {{p.price | currency: 'thb' : '฿' : '1.2-2'}}
                    </h6>
                </div>
            </div>
        </div>
    </div>
</div>

<p-toast></p-toast>